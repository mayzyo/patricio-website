<div class="d-flex">
    <ul class="list-group flex-grow-1 w-100 m-2">
    <!-- <ul class="list-group flex-grow-1 w-100 m-2" infiniteScroll [infiniteScrollDistance]="2"
        [infiniteScrollThrottle]="50" [scrollWindow]="false" (scrolled)="onScroll()"> -->
        <li 
        class="list-group-item list-group-item-action d-flex" 
        *ngFor="let item of selection$ | async"
        (click)="onSelect(item)"
        [ngClass]="current && current.id == item.id ? 'active' : ''" 
        >
            <img [src]="item.thumbnail" height="100" width="100" default="../../assets/images/record-vinyl-solid.svg">
            <div class="flex-1 mx-2">
                <p>{{ item.description }}</p>
            </div>
        </li>
    </ul>
    <form class="card flex-grow-1 w-100 m-2 py-2 px-4" (ngSubmit)="onSubmit()" #editorForm="ngForm">

        <img style="width: 100%;" [src]="image.preview" default="../../assets/images/record-vinyl-solid.svg">

        <div class="form-group">
            <label for="image-wrapper">Photo</label>
            <div class="custom-file" id="image-wrapper">
                <input type="file" class="custom-file-input" id="image" (change)="onImageChange($event)" [disabled]="submitting" name="image">
                <label class="custom-file-label" for="image">{{ image.status }}</label>
            </div>
            <div class="progress" style="height: 2px;">
                <div class="progress-bar" [ngClass]="progressState(image.status)" role="progressbar"></div>
            </div>
        </div>

        <div class="form-group">
            <label for="description">Brief Description</label>
            <input type="text" class="form-control" id="title" placeholder="...Me being awesome." name="description" [(ngModel)]="model.description">
        </div>
        <div class="form-group">
            <label for="date">Date</label>
            <input type="date" class="form-control" id="date" name="date" [(ngModel)]="model.date">
        </div>

        <div class="d-flex w-100 mt-2">
            <button class="btn btn-secondary shadow flex-grow-1 m-2" type="submit" [disabled]="submitting">
                {{ current ? "Change" : "Add" }}
            </button>
            <button class="btn btn-danger shadow m-2" type="button" [disabled]="submitting" *ngIf="current" (click)="onRemove()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        
    </form>
</div>