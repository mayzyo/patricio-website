<app-landing-banner [disabled]="isArrowDisabled" (scrolldownChange)="scrolldown()">
</app-landing-banner>

<div class="container my-5 py-5">

    <div #HighlightRef style="min-height: 30vh;">

        <div class="d-flex align-items-center">
                <fa-icon *ngIf="!loggedIn; else SongEditor" [icon]="faRecordVinyl" size="2x"></fa-icon>
            <h1 class="h2 ml-2">Highlights | 作品一览</h1>
        </div>
        
        <app-highlight *ngIf="highlightTrigger$ | async as highlightTrigger" [isTriggered]="highlightTrigger">
        </app-highlight>
    </div>

    <hr />

    <div #UpcomingRef>

        <div style="min-height: 30vh;" [ngClass]="(upcoming$ | async) ? 'd-block' : 'd-none'">
            <h1 class="lead text-center">Upcoming Events | 最新活动</h1>
            <app-listing [animTrigger$]="listingTrigger$" [showDate]="true"></app-listing>
        </div>

        <h1 class="lead text-center" [ngClass]="(upcoming$ | async) ? 'd-none' : 'd-block'">
            No upcoming events | 暂无新活动
        </h1>
    </div>

</div>

<div #BiographyRef class="container-fluid bg-dark text-white" style="min-height: 30vh;">
    <div class="container py-5">

        <div class="d-flex align-items-center mb-4">
            <fa-icon
                *ngIf="!loggedIn; else BioEditor"
                [classes]="['text-secondary']"
                [icon]="faPortrait"
                size="2x"
            >
            </fa-icon>

            <h1 class="h2 ml-2">Biography | 简介</h1>
        </div>

        <div *ngIf="(biography$ | async) as biography" class="row mx-n3">
            <p class="biography fade-in col-md-6 col-sm-12 px-3 lead">
                {{ biography[0] }}
            </p>
            <p class="biography fade-in col-md-6 col-sm-12 px-3 lead">
                {{ biography[1] }}
            </p>
        </div>

    </div>
</div>

<app-email-me></app-email-me>

<ng-template #SongEditor>
    <button class="btn btn-link" (click)="edit('music')">
        <fa-icon [icon]="faEdit" size="2x"></fa-icon>
    </button>
</ng-template>

<ng-template #BioEditor>
    <button class="btn btn-link" (click)="edit('biography')">
        <fa-icon [icon]="faEdit" size="2x"></fa-icon>
    </button>
</ng-template>