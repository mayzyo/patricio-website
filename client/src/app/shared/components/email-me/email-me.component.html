<div class="sub-bg container-fluid bg-primary text-white">
    <div class="container py-5">

        <h1 class="h4">Email Me | 联系我</h1>

        <form class="row mt-3" (ngSubmit)="onSubmit()" [formGroup]="contactDetail">
            <div class="col-md-6 col-sm-12">

                <label for="message">Your message - 信息内容</label>
                <textarea 
                    class="form-control" 
                    rows="9" 
                    placeholder="write your message here, thanks..."
                    id="message" 
                    name="message"
                    formControlName="message"
                    required
                >
                </textarea>
                @if(attemptedSubmit() && contactDetail.get('message')?.invalid) {
                    <div class="text-danger font-italic">
                        Please leave a quick message for me
                    </div>
                }

            </div>
            <div class="col-md-6 col-sm-12">

                <label for="purpose">What's it about - 消息抬头</label>
                <select 
                    class="form-control mb-2" 
                    id="purpose"
                    name="purpose"
                    formControlName="purpose"
                >
                    <option [value]="null">Select an option - 选择抬头</option>
                    <option [value]="0">Business - 商务</option>
                    <option [value]="1">Collab - 合作</option>
                    <option [value]="2">Others - 其它</option>
                </select>

                <label for="senderType">A bit about yourself - 如何描述您</label>
                <select 
                    class="form-control mb-2" 
                    id="senderType"
                    name="senderType"
                    formControlName="senderType"
                >
                    <option [value]="null">Select an option - 选择描述</option>
                    <option [value]="0">Manager / representative - 经理 / 代表人</option>
                    <option [value]="1">Fellow Musician - 艺人</option>
                    <option [value]="2">Others - 其它</option>
                </select>

                <label for="sender">Your email - 您的邮箱</label>
                <input 
                    class="form-control mb-2" 
                    type="email" 
                    id="sender" 
                    name="sender"
                    formControlName="sender"
                    placeholder="name@example.com..."
                    required
                    email
                >
                @if(attemptedSubmit() && contactDetail.get('sender')?.invalid) {
                    <div class="text-danger font-italic" >
                        Please provide a valid email address
                    </div>
                }

                <button class="btn btn-secondary mt-2 shadow text-white" type="submit" [disabled]="submitting">
                    Send | 发送
                </button>

            </div>
        </form>
        
    </div>
</div>

@if(success$ | async; as successMessage) {
    <div style="position: fixed; top: 5px; left: 0; width: 100%; z-index: 3; margin: auto; text-align: center;">
        <ngb-alert type="info" (close)="onClose()">
            {{ successMessage }}
        </ngb-alert>
    </div>
}

